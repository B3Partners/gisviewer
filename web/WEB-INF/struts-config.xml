<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
"http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<struts-config>
    <form-beans>
        <form-bean name="messagesForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="action" type="java.lang.String"/>
            <form-property name="alt_action" type="java.lang.String"/>
            <form-property name="xsl" type="java.lang.String"/>
            <form-property name="to" type="java.lang.String"/>
            <form-property name="from" type="java.lang.String"/>
            <form-property name="subject" type="java.lang.String"/>
            <form-property name="cc" type="java.lang.String"/>
            <form-property name="bcc" type="java.lang.String"/>
            <form-property name="body" type="java.lang.String"/>
            <form-property name="mailhost" type="java.lang.String" initial="kmail.b3partners.nl"/>
        </form-bean>
        
        <form-bean name="themaForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="action" type="java.lang.String"/>
            <form-property name="alt_action" type="java.lang.String"/>
            <form-property name="themaID" type="java.lang.String"/>
            <form-property name="code" type="java.lang.String"/>
            <form-property name="naam" type="java.lang.String"/>
            <form-property name="metadatalink" type="java.lang.String"/>
            <form-property name="connectie" type="java.lang.String"/>
            <form-property name="belangnr" type="java.lang.String"/>
            <form-property name="clusterID" type="java.lang.String"/>
            <form-property name="opmerkingen" type="java.lang.String"/>
            <form-property name="analyse_thema" type="java.lang.Boolean"/>
            <form-property name="locatie_thema" type="java.lang.Boolean"/>
            <form-property name="admin_tabel_opmerkingen" type="java.lang.String"/>
            <form-property name="admin_tabel" type="java.lang.String"/>
            <form-property name="admin_pk" type="java.lang.String"/>
            <form-property name="admin_pk_complex" type="java.lang.Boolean"/>
            <form-property name="admin_spatial_ref" type="java.lang.String"/>
            <form-property name="admin_query" type="java.lang.String"/>
            <form-property name="spatial_tabel_opmerkingen" type="java.lang.String"/>
            <form-property name="spatial_tabel" type="java.lang.String"/>
            <form-property name="spatial_pk" type="java.lang.String"/>
            <form-property name="spatial_pk_complex" type="java.lang.Boolean"/>
            <form-property name="spatial_admin_ref" type="java.lang.String"/>
            <form-property name="wms_url" type="java.lang.String"/>
            <form-property name="wms_layers" type="java.lang.String"/>
            <form-property name="wms_layers_real" type="java.lang.String"/>
            <form-property name="wms_querylayers" type="java.lang.String"/>
            <form-property name="wms_querylayers_real" type="java.lang.String"/>
            <form-property name="wms_legendlayer" type="java.lang.String"/>
            <form-property name="wms_legendlayer_real" type="java.lang.String"/>
            <form-property name="update_frequentie_in_dagen" type="java.lang.String"/>
            <form-property name="view_geomtype" type="java.lang.String"/>
            <form-property name="visible" type="java.lang.Boolean"/>
            <form-property name="themadataobjecten" type="java.lang.String[]"/>
        </form-bean>
        <form-bean name="clusterForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="action" type="java.lang.String"/>
            <form-property name="alt_action" type="java.lang.String"/>
            <form-property name="clusterID" type="java.lang.String"/>
            <form-property name="naam" type="java.lang.String"/>
            <form-property name="omschrijving" type="java.lang.String"/>
            <form-property name="metadatalink" type="java.lang.String"/>
            <form-property name="parentID" type="java.lang.String"/>
            <form-property name="default_cluster" type="java.lang.Boolean"/>
            <form-property name="hide_legend" type="java.lang.Boolean"/>
            <form-property name="hide_tree" type="java.lang.Boolean"/>
            <form-property name="background_cluster" type="java.lang.Boolean"/>
            <form-property name="extra_level" type="java.lang.Boolean"/>
            <form-property name="callable" type="java.lang.Boolean"/>
            <form-property name="default_visible" type="java.lang.Boolean"/>
        </form-bean>
        <form-bean name="connectieForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="action" type="java.lang.String"/>
            <form-property name="alt_action" type="java.lang.String"/>
            <form-property name="id" type="java.lang.String"/>
            <form-property name="naam" type="java.lang.String"/>
            <form-property name="url" type="java.lang.String"/>
            <form-property name="gebruikersnaam" type="java.lang.String"/>
            <form-property name="wachtwoord" type="java.lang.String"/>
        </form-bean>
        <form-bean name="themaDataForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="action" type="java.lang.String"/>
            <form-property name="alt_action" type="java.lang.String"/>
            <form-property name="themaDataID" type="java.lang.String"/>
            <form-property name="label" type="java.lang.String"/>
            <form-property name="eenheid" type="java.lang.String"/>
            <form-property name="omschrijving" type="java.lang.String"/>
            <form-property name="themaID" type="java.lang.String"/>
            <form-property name="uitgebreid" type="java.lang.Boolean"/>
            <form-property name="basisregel" type="java.lang.Boolean"/>
            <form-property name="voorbeelden" type="java.lang.String"/>
            <form-property name="kolombreedte" type="java.lang.String"/>
            <form-property name="waardeTypeID" type="java.lang.String"/>
            <form-property name="dataTypeID" type="java.lang.String"/>
            <form-property name="commando" type="java.lang.String"/>
            <form-property name="kolomnaam" type="java.lang.String"/>
            <form-property name="dataorder" type="java.lang.String"/>
        </form-bean>
        
        <form-bean name="viewerForm" type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="action" type="java.lang.String"/>
            <form-property name="alt_action" type="java.lang.String"/>
            <form-property name="themaid" type="java.lang.String"/>
            <form-property name="analysethemaid" type="java.lang.String"/>
            <!--form-property name="xcoord" type="java.lang.String"/>
            <form-property name="ycoord" type="java.lang.String"/-->
            <form-property name="coords" type="java.lang.String"/>
            <form-property name="scale" type="java.lang.String"/>
            <form-property name="lagen" type="java.lang.String"/>
            <form-property name="locatieveld" type="java.lang.String"/>
            <form-property name="extraCriteria" type="java.lang.String"/>
            <form-property name="geselecteerd_object" type="java.lang.String"/>
            <form-property name="zoekopties" type="java.lang.String"/>
            <form-property name="zoekopties_object" type="java.lang.String"/>
            <form-property name="zoekopties_waarde" type="java.lang.String"/>
        </form-bean>
        
    </form-beans>
    
    <global-exceptions>
    </global-exceptions>
    
    <global-forwards>
        <forward name="failure" path="/index.do"/>
    </global-forwards>
    
    <action-mappings>
        <action path="/index" type="nl.b3p.gis.viewer.services.IndexAction">
            <forward name="success" path="home"/>
            <forward name="failure" path="messages"/>
            <forward name="login" path="login"/>
            <forward name="loginError" path="login"/>
            <forward name="logout" path="/index.do" redirect="true"/>
        </action>
        <action path="/indexlist" forward="/index.do?list=t"/>
        <action path="/login" forward="/index.do?login=t"/>
        <action path="/loginError" forward="/index.do?loginError=t"/>
        <action path="/logout" forward="/index.do?logout=t"/>
        <action path="/help" forward="help"/>
        <action path="/home" forward="home"/>
        
        <action path="/viewerlist" forward="/index.do?list=t"/>
        
        <action path="/createmappdf" forward="createmappdf"/>
        
        <action path="/viewer" type="nl.b3p.gis.viewer.ViewerAction">
            <forward name="success" path="viewer"/>
            <forward name="login" path="login"/>
            <forward name="list" path="index"/>
        </action>
        <action path="/viewerdata" type="nl.b3p.gis.viewer.GetViewerDataAction" name="viewerForm" scope="request" validate="false">
            <forward name="failure" path="viewerdata"/>
            <forward name="admindata" path="vieweradmindata"/>
            <forward name="metadata" path="viewermetadata"/>
            <forward name="objectdata" path="viewerobjectdata"/>
            <forward name="analysedata" path="vieweranalysedata"/>
            <forward name="analyseobject" path="vieweranalyseobject"/>
            <forward name="aanvullendeinfo" path="vieweraanvullendeinfo"/>
        </action>
        <action path="/viewerwelkom" forward="viewerwelkom"/>
        
        <action path="/etl" type="nl.b3p.gis.viewer.ETLOverviewAction">
            <forward name="success" path="etlhome"/>
        </action>
        
        <action path="/etltransform" type="nl.b3p.gis.viewer.ETLTransformAction">
            <forward name="success" path="etltransform"/>
            <forward name="showData" path="vieweradmindata"/>
        </action>
        
        <action path="/configThema" type="nl.b3p.gis.viewer.ConfigThemaAction" name="themaForm" scope="request" validate="false">
            <forward name="success" path="configthema"/>
            <forward name="failure" path="configthema"/>
        </action> 
        <action path="/configCluster" type="nl.b3p.gis.viewer.ConfigClusterAction" name="clusterForm" scope="request" validate="false">
            <forward name="success" path="configcluster"/>
            <forward name="failure" path="configcluster"/>
        </action>
        <action path="/configConnectie" type="nl.b3p.gis.viewer.ConfigConnectieAction" name="connectieForm" scope="request" validate="false">
            <forward name="success" path="configconnectie"/>
            <forward name="failure" path="configconnectie"/>
        </action>
        <action path="/configThemaData" type="nl.b3p.gis.viewer.ConfigThemaDataAction" name="themaDataForm" scope="request" validate="false">
            <forward name="success" path="configthemadata"/>
            <forward name="failure" path="configthemadata"/>            
        </action>
        <action path="/listManager" type="nl.b3p.commons.mail.MessageAction" name="messagesForm" scope="request" validate="false">
            <forward name="view" path="/index.do"/>
            <forward name="continue" path="/index.do"/>
        </action>       
    </action-mappings>
    
    <controller processorClass="org.apache.struts.tiles.TilesRequestProcessor"/>
    
    <message-resources  parameter="ViewerResources" null="true" />
    
    <!-- ========================= Tiles plugin ===============================-->
    <plug-in className="org.apache.struts.tiles.TilesPlugin" >
        <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />      
        <set-property property="moduleAware" value="true" />
    </plug-in>
    
    <!-- ========================= Validator plugin ================================= -->
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property
            property="pathnames"
            value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/>
    </plug-in>
    
</struts-config>
